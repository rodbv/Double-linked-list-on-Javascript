<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" 
                    "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <link rel="stylesheet" href="http://code.jquery.com/qunit/git/qunit.css" type="text/css"
        media="screen" />
    <script type="text/javascript" src="http://code.jquery.com/qunit/git/qunit.js"></script>
    <script type="text/javascript" src="linkedlist.js"></script>
    <script>
        $(document).ready(function () {
            test("new linked lists will have zero nodes", function () {
                var ll = new LinkedList();
                equals(0, ll.size());
            });

            test("linked list with one node will have size 1", function () {
                var ll = new LinkedList();
                ll.add("x");
                equals(1, ll.size());
            });

            test("linked list with one node, getHead will return node", function () {
                var ll = new LinkedList();
                ll.add("x");
                equals("x", ll.getHead().value);
            });

            test("linked list with one node, getTail will return node", function () {
                var ll = new LinkedList();
                ll.add("x");
                equals("x", ll.getTail().value);
            });

            test("linked list with 2 nodes, size equals 2", function () {
                var ll = new LinkedList();
                ll.add("x").add("y");
                equals(2, ll.size());
            });

            test("linked list with 2 nodes, head is first item added", function () {
                var ll = new LinkedList();
                ll.add("x").add("y");
                equals("x", ll.getHead().value);
            });

            test("linked list with 2 nodes, tail is the last item added", function () {
                var ll = new LinkedList();
                ll.add("x").add("y");
                equals("y", ll.getTail().value);
            });

            test("linked list with two nodes, head will point to tail", function () {
                var ll = new LinkedList();
                ll.add("x").add("y");
                equals("x", ll.getHead().value);
                equals("y", ll.getTail().value);
                equals("y", ll.getHead().next.value);
            });

            test("linked list with 3 nodes a-b-c, will be possible to iterate through list", function () {
                var ll = new LinkedList();
                ll.add("x").add("y").add("z");
                equals("x", ll.getHead().value);
                equals("z", ll.getTail().value);
                equals("y", ll.getHead().next.value);
                equals("y", ll.getTail().previous.value);
                equals(3, ll.size());
            });

            test("it is possible to find a node by value", function () {
                var ll = new LinkedList();
                ll.add("x").add("y").add("z");
                var nodeY = ll.findByValue("y");
                equals("y", nodeY.value);
                equals("x", nodeY.previous.value);
                equals("z", nodeY.next.value);
            });

            test("findByValue will return null if value is not in list", function () {
                var ll = new LinkedList();
                ll.add("x").add("y").add("z");
                equals(null, ll.findByValue("dummy"));
            });

            test("findByValue will return node with previous and next pointers", function () {
                var ll = new LinkedList();
                ll.add("x").add("y").add("z");

                var nodeY = ll.findByValue("y");
                equals("y", nodeY.value);
                equals("x", nodeY.previous.value);
                equals("z", nodeY.next.value);
            });

            test("it is possible to add a node after another node, by value", function () {
                var ll = new LinkedList();
                ll.add("x").add("y");
                var newNode = ll.insertAfter("x", "new value");
                equals(3, ll.size());
                equals("new value", ll.findByValue("x").next.value);
                equals("new value", ll.findByValue("y").previous.value);
            });
            
            test("it is possible to add a node after another node, by value, on a list with 1 node", function () {
                var ll = new LinkedList();
                ll.add("x");
                var newNode = ll.insertAfter("x", "new value");
                equals(2, ll.size());
                equals("x", newNode.previous.value);
                equals(null, newNode.next);
            });

        });
    </script>
</head>
<body>
    <h1 id="qunit-header">
        QUnit example</h1>
    <h2 id="qunit-banner">
    </h2>
    <div id="qunit-testrunner-toolbar">
    </div>
    <h2 id="qunit-userAgent">
    </h2>
    <ol id="qunit-tests">
    </ol>
    <div id="qunit-fixture">
        test markup, will be hidden</div>
</body>
</html>
